<input type="file" id="videoUpload" accept="video/*" />

<script>
  async function uploadVideo(file) {
    const response = await fetch(
      `/generate-presigned-url?fileName=${file.name}&fileType=${file.type}`
    );
    const { signedUrl } = await response.json();

    const result = await fetch(signedUrl, {
      method: "PUT",
      body: file,
      headers: {
        "Content-Type": file.type,
      },
    });

    if (result.ok) {
      console.log("Upload successful!");
    }
  }

  document.getElementById("videoUpload").addEventListener("change", (e) => {
    uploadVideo(e.target.files[0]);
  });
</script>
